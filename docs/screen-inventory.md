# 画面・ボタン一覧

## 画面構成

### タブナビゲーション
- **メイン画面** (`index.tsx`)
- **分析画面** (`analysis/index.tsx`)
- **タグ管理画面** (`tags/index.tsx`)

---

## 1. メイン画面 (`app/(tabs)/index.tsx`)

### 画面の目的
カウンター一覧を表示し、主要な操作へのアクセスを提供

### 画面要素

#### ヘッダー
- **タイトル**: 「なんでもカウンター」
- **日付表示**: 今日の日付

#### コンテンツエリア
- **カウンターカード**（複数表示可能）
  - カウンター名
  - 現在のカウント値（大きく表示）
  - 説明文（オプション）
  - 今日のカウント数（「今日: +X」形式）
  - **タップアクション**: カウンター詳細画面へ遷移

- **空状態**
  - 「カウンターがありません」
  - 「新しいカウンターを作成してください」

#### 広告エリア
- **バナー広告** (`BannerAd`コンポーネント)

#### フッター（ボタンエリア）
- **カウンター作成ボタン**
  - テキスト: 「カウンター作成」
  - 色: 青（#2196F3）
  - アクション: カウンター作成画面へ遷移

- **記録を追加ボタン**
  - テキスト: 「記録を追加」
  - 色: 青（#2196F3）
  - アクション: 記録追加画面へ遷移

- **タグ分析ボタン**
  - テキスト: 「タグ分析」
  - 色: 緑（#4CAF50）
  - アクション: タグ分析画面へ遷移

- **タグ管理ボタン**
  - テキスト: 「タグ管理」
  - 色: オレンジ（#FF9800）
  - アクション: タグ管理画面へ遷移

---

## 2. カウンター作成画面 (`app/(tabs)/counter/new.tsx`)

### 画面の目的
新しいカウンターを作成する

### 画面要素

#### 入力フィールド
- **カウンター名入力**
  - ラベル: 「カウンター名 *」
  - プレースホルダー: 「例: コーヒーを飲んだ回数」
  - 必須入力

- **説明入力**
  - ラベル: 「説明（オプション）」
  - プレースホルダー: 「カウンターの説明を入力」
  - 複数行入力可能

#### ボタン
- **作成ボタン**
  - テキスト: 「作成」
  - 色: 青（#2196F3）
  - アクション: カウンターを作成して前の画面に戻る

---

## 3. カウンター詳細画面 (`app/(tabs)/counter/[id].tsx`)

### 画面の目的
カウンターの詳細表示とカウント操作

### 画面要素

#### ヘッダー
- **カウンター名**（大きく表示）
- **説明文**（オプション）
- **現在のカウント値**（非常に大きく表示、72px）

#### 入力方法選択
- **ラベル**: 「入力方法」
- **入力方法セレクター** (`InputMethodSelector`)
  - 「ボタン」と「直接入力」を切り替え

#### ボタン操作エリア（入力方法が「ボタン」の場合）
- **減少ボタン**
  - テキスト: 「-」
  - 色: 赤（#F44336）
  - アクション: カウントを-1

- **リセットボタン**
  - テキスト: 「リセット」
  - 色: オレンジ（#FF9800）
  - アクション: 確認ダイアログ表示後、カウントを0にリセット

- **増加ボタン**
  - テキスト: 「+」
  - 色: 緑（#4CAF50）
  - アクション: カウントを+1

#### 直接入力エリア（入力方法が「直接入力」の場合）
- **数値入力フィールド** (`CountInput`)
- **確定ボタン**
  - テキスト: 「確定」
  - 色: 青（#2196F3）
  - アクション: 入力値を確定して記録

#### 情報表示
- **記録数**: 「記録数: X」

#### アクションボタン
- **履歴を見るボタン**
  - テキスト: 「履歴を見る」
  - 色: 青（#2196F3）
  - アクション: 履歴画面へ遷移

- **削除ボタン**
  - テキスト: 「削除」
  - 色: 白背景、赤テキスト（#F44336）
  - アクション: 確認ダイアログ表示後、カウンターを削除

---

## 4. 記録追加画面 (`app/(tabs)/record/new.tsx`)

### 画面の目的
過去の記録を追加する

### 画面要素

#### カウンター選択
- **ラベル**: 「カウンター *」
- **カウンター選択エリア**
  - カウンターが存在しない場合:
    - 「カウンターがありません」
    - 「カウンターを作成」リンクボタン
  - カウンターが存在する場合:
    - カウンター一覧（選択可能）
    - 選択されたカウンターはハイライト表示

#### 入力方法選択
- **ラベル**: 「入力方法」
- **入力方法セレクター** (`InputMethodSelector`)

#### カウント値入力
- **ラベル**: 「カウント値」
- **CountInputコンポーネント**
  - ボタン操作または直接入力

#### 日時選択
- **ラベル**: 「日時」
- **DateTimeSelectorコンポーネント**
  - カスタム日時を使用するかどうかのトグル
  - 日時ピッカー

#### 位置情報
- **ラベル**: 「位置情報（オプション）」
- **LocationSelectorコンポーネント**
  - 位置情報を使用するかどうかのトグル
  - 位置情報の表示

#### タグ選択
- **ラベル**: 「タグ（オプション）」
- **TagSelectorコンポーネント**
  - 複数タグを選択可能

#### ボタン
- **記録を追加ボタン**
  - テキスト: 「記録を追加」
  - 色: 青（#2196F3）
  - アクション: 記録を作成して前の画面に戻る

---

## 5. 履歴画面 (`app/(tabs)/history/[counterId].tsx`)

### 画面の目的
特定のカウンターの記録履歴を表示

### 画面要素

#### ヘッダー
- **タイトル**: 「{カウンター名}の履歴」
- **サブタイトル**: 「記録数: X」

#### 広告エリア
- **バナー広告** (`BannerAd`コンポーネント)

#### コンテンツエリア
- **日付ごとにグループ化された記録**
  - 日付ラベル
  - 記録アイテム（複数）
    - 時刻
    - カウント値（+X または -X）
    - タグ（複数表示可能、色付きバッジ）
    - 位置情報（オプション）
      - 住所（オプション）
      - 座標

- **空状態**
  - 「記録がありません」

---

## 6. タグ管理画面 (`app/(tabs)/tags/index.tsx`)

### 画面の目的
タグの一覧表示と管理

### 画面要素

#### ヘッダー
- **タイトル**: 「タグ管理」
- **タグを作成ボタン**
  - テキスト: 「タグを作成」
  - 色: 青（#2196F3）
  - アクション: タグ作成画面へ遷移

#### 並び順選択
- **ラベル**: 「並び順:」
- **並び順ボタン**
  - 「名前順」ボタン
  - 「作成日順」ボタン
  - 選択されたボタンはハイライト表示

#### タグ一覧
- **タグカード**（複数表示可能）
  - 色インジケーター
  - タグ名
  - **削除ボタン**
    - テキスト: 「削除」
    - 色: 赤（#F44336）
    - アクション: 確認ダイアログ表示後、タグを削除
  - **タップアクション**: タグ編集画面へ遷移

- **空状態**
  - 「タグがありません」
  - 「新しいタグを作成してください」

---

## 7. タグ作成画面 (`app/(tabs)/tags/new.tsx`)

### 画面の目的
新しいタグを作成する

### 画面要素

#### 入力フィールド
- **タグ名入力**
  - ラベル: 「タグ名 *」
  - プレースホルダー: 「例: 運動」
  - 必須入力

#### 色選択
- **ラベル**: 「色」
- **色選択エリア**
  - 複数の色オプション（円形）
  - 選択された色はチェックマーク表示

#### ボタン
- **作成ボタン**
  - テキスト: 「作成」
  - 色: 青（#2196F3）
  - アクション: タグを作成して前の画面に戻る

---

## 8. タグ編集画面 (`app/(tabs)/tags/[id].tsx`)

### 画面の目的
既存のタグを編集する

### 画面要素

#### 入力フィールド
- **タグ名入力**
  - ラベル: 「タグ名 *」
  - プレースホルダー: 「例: 運動」
  - 既存のタグ名が初期値

#### 色選択
- **ラベル**: 「色」
- **色選択エリア**
  - 複数の色オプション（円形）
  - 既存の色が選択状態

#### ボタン
- **更新ボタン**
  - テキスト: 「更新」
  - 色: 青（#2196F3）
  - アクション: タグを更新して前の画面に戻る

---

## 9. タグ分析選択画面 (`app/(tabs)/analysis/index.tsx`)

### 画面の目的
分析したいタグを選択する

### 画面要素

#### ヘッダー
- **タイトル**: 「タグ分析」
- **サブタイトル**: 「分析したいタグを選択してください」

#### 並び順選択
- **ラベル**: 「並び順:」
- **並び順ボタン**
  - 「頻度順」ボタン
  - 「名前順」ボタン
  - 「作成日順」ボタン
  - 選択されたボタンはハイライト表示

#### タグ一覧
- **タグカード**（複数表示可能、複数選択可能）
  - 色インジケーター（左側のボーダー）
  - タグ名
  - 使用回数（「X回使用」）
  - 選択状態のチェックマーク
  - **タップアクション**: タグの選択/選択解除

- **空状態**
  - 「タグがありません」

#### ボタン
- **分析開始ボタン**（タグが選択されている場合のみ表示）
  - テキスト: 「分析開始 (X個のタグ)」
  - 色: 青（#2196F3）
  - アクション: タグ分析画面へ遷移

---

## 10. タグ分析画面 (`app/(tabs)/analysis/tag/[tagId].tsx`)

### 画面の目的
選択したタグの詳細な分析を表示

### 画面要素

#### ヘッダー
- **戻るボタン**
  - テキスト: 「← 戻る」
  - 色: 青（#2196F3）
  - アクション: 前の画面に戻る

- **タイトル**: 「タグ分析」
- **選択されたタグバッジ**（複数表示可能）
  - タグ名
  - タグの色

#### 期間選択
- **ラベル**: 「期間選択」
- **期間ボタン**
  - 「月累計」ボタン
  - 「3か月」ボタン
  - 「6か月」ボタン
  - 「12か月」ボタン
  - 選択されたボタンはハイライト表示

#### 統計情報
- **ラベル**: 「統計情報」
- **統計カード**（4つ）
  - 「合計カウント」
  - 「平均（日別）」
  - 「記録日数」
  - 「記録数」

- **最大カウント日カード**（該当する場合）
  - 「最大カウント日」
  - 日付
  - カウント値

#### カレンダー
- **ラベル**: 「カレンダー」
- **カレンダーコンポーネント**
  - 記録がある日付にマーク表示
  - 日付をタップして選択可能

#### グラフ
- **ラベル**: 「グラフ」
- **棒グラフ**（月累計、3か月の場合）
- **折れ線グラフ**（6か月、12か月の場合）

---

## 共通コンポーネント

### BannerAd
- **用途**: バナー広告の表示
- **表示場所**: メイン画面、履歴画面

### InputMethodSelector
- **用途**: 入力方法（ボタン/直接入力）の選択
- **表示場所**: カウンター詳細画面、記録追加画面

### CountInput
- **用途**: カウント値の入力（ボタン操作または直接入力）
- **表示場所**: カウンター詳細画面、記録追加画面

### TagSelector
- **用途**: タグの選択（複数選択可能）
- **表示場所**: 記録追加画面

### DateTimeSelector
- **用途**: 日時の選択
- **表示場所**: 記録追加画面

### LocationSelector
- **用途**: 位置情報の取得と表示
- **表示場所**: 記録追加画面

### ErrorScreen
- **用途**: エラーメッセージの表示
- **表示場所**: 各種画面（エラー時）

---

## ボタンの色体系

### プライマリ（主要操作）
- **青**: #2196F3
  - 作成、追加、確定、分析開始など

### セカンダリ（補助操作）
- **緑**: #4CAF50
  - 増加、タグ分析など

- **オレンジ**: #FF9800
  - リセット、タグ管理など

### 警告・削除
- **赤**: #F44336
  - 削除、減少など

### 背景色
- **白**: #fff（カード、入力フィールド）
- **グレー**: #f5f5f5（画面背景）

---

## UIパターン

### カード
- 白背景
- 角丸（8-12px）
- 影付き
- パディング: 12-16px

### ボタン
- 角丸（8px）
- パディング: 16px
- 中央揃え
- フォントサイズ: 16px
- フォントウェイト: 600

### 入力フィールド
- 白背景
- 角丸（8px）
- ボーダー: 1px solid #e0e0e0
- パディング: 12px

### 空状態
- 中央揃え
- グレーテキスト
- パディング: 40-60px
